Raids
=====================================

.. contents:: Table of Contents
   :depth: 2
   :local:


Prerequisites
-------------------------------------

This pages assumes the following:

1. You have a working scanner.
2. You read and understood the :ref:`events_dts` page.
3. You are using the latest version of PokeAlarm.


Description
-------------------------------------

A **Raid Event** represents when a raid event appears in a gym.


Available DTS
-------------------------------------

General
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

================= ============================================================
DTS               Description
================= ============================================================
gym_id            The gym id. Unique per gym.
mon_name          The name of the monster's species.
mon_id            ID of the monster's species.
mon_id_3          ID of the monster's species, padded to 3 digits.
raid_lvl          The tier level of the raid.
form              Form name of the monster.
form_or_empty     Form name of the monster, or empty string if unknown.
form_id           Form ID for the monster.
form_id_2         Form ID of the monster, padded to 2 digits.
form_id_3         Form ID of the monster, padded to 3 digits.
min_cp            Minimum potential CP of the monster.
max_cp            Maximum potential CP of the monster.
type1             Name of the monster's primary type.
type1_or_empty    Name of the monster's primary type, or empty string
                  if unknown.
type1_emoji       Emoji for the monster's primary type, or empty string
                  if unknown.
type2             Name of the monster's secondary type.
type2_or_empty    Name of the monster's secondary type, or empty string
                  if unknown.
type2_emoji       Emoji for the monster's secondary type, or empty string
                  if unknown.
types             Monster's type formatted as "type1/type2".
types_emoji       Type emojis for the monster as "type1+type2", or empty
                  string if unknown.
gym_name          The name of the gym. *
gym_description   The description of the gym. *
gym_image         The url to the image of the gym. *
team_id           The id of the team currently in control of the gym.
team_emoji        The team color currently in control of the gym.
team_name         The team currently in control of the gym.
team_leader       The leader of the team currently in control of the gym.
sponsor_id        The sponsor if of the gym. 0 if not sponsored.
sponsored         True if sponsored, False if not.
================= ============================================================

.. note::

  \* Gym Info requires caching. See the :ref:`object-caching`
  page for more information.


Moves
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

================== =========================================================
DTS                 Description
================== =========================================================
quick_move         Name of the monster's quick move.
quick_id           ID of the monster's quick move.
quick_type_id      ID of the monster's quick move type.
quick_type         Name of the monster's quick move type.
quick_type_emoji   Emoji of the monster's quick move type.
quick_damage       Damage of the monster's quick move.
quick_dps          DPS of the monster's quick move.
quick_duration     Duration of the monster's quick move.
quick_energy       Energy generated by the quick move.
charge_move        Name of the monster's charge move.
charge_id          ID of the monster's charge move.
charge_type_id     ID of the monster's charge move type.
charge_type        Name of the monster's charge move type.
charge_type_emoji  Emoji of the monster's charge move type.
charge_damage      Damage of the monster's charge move.
charge_dps         DPS of the monster's charge move.
charge_duration    Duration of the monster's charge move.
charge_energy      Energy generated by the charge move.
================== =========================================================


Cosmetic
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

================== =========================================================
DTS                 Description
================== =========================================================
costume            Costume name of the monster.
costume_or_empty   Costume name of the monster, or empty string if unknown.
costume_id         Costume ID for the monster.
costume_id_2       Costume ID of the monster, padded to 2 digits.
costume_id_3       Costume ID of the monster, padded to 3 digits.
gender             Gender of the monster, represented as a single character.
================== =========================================================


Location
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. warning::

    Geofences are only evaluated per Filter - ``<geofence>`` will be unknown if
    it passes through a Filter without a ``geofences`` restriction applied.

============= =======================================================
DTS           Description
============= =======================================================
lat           Latitude of the raid.
lng           Longitude of the raid.
lat_5         Latitude of the raid, truncated to 5 decimal places.
lng_5         Longitude of the raid, truncated to 5 decimal places.
distance      Distance of the raid from the set location.
direction     Cardinal direction of the raid, from the set location.
gmaps         Google Maps link to the location of the raid.
applemaps     Apple Maps link to the location of the raid.
waze          Waze link to the location of the raid.
geofence      Geofence around the event.
============= =======================================================


Time
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

======================== ========================================================== ============
DTS                      Description                                                Example
======================== ========================================================== ============
raid_time_left           Time remaining until the raid ends.                        1h 52m 17s
12h_raid_end             Time when the raid ends, formatted in 12h.                 01:15:52pm
24h_raid_end             Time when the raid ends, formatted in 24h.                 13:15:52
raid_time_no_secs        Time remaining until the raid ends without seconds.        1h 52m
12h_raid_end_no_secs     Time when the raid ends, formatted in 12h without seconds. 01:15pm
24h_raid_end_no_secs     Time when the raid ends, formatted in 24h without seconds. 13:15
raid_time_raw_hours      Hours only until the raid will end.                        1
raid_time_raw_minutes    Minutes only until the raid will end.                      52
raid_time_raw_seconds    Seconds only until the raid will end.                      15
======================== ========================================================== ============


Weather
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

======================== =======================================================
DTS                      Description
======================== =======================================================
weather_id               Weather ID of the raid.
weather                  Weather name of the raid.
weather_or_empty         Weather name of the raid, or empty string if unknown.
weather_emoji            Weather emoji of the raid, or empty string if unknown.
boosted_weather_id       Return weather ID if monster is boosted.
boosted_weather          Return weather name if monster is boosted.
boosted_weather_or_empty Return weather name if monster is boosted, or empty
                         string if unknown.
boosted_weather_emoji    Return weather emoji if monster is boosted, or empty
                         string if unknown.
boosted_or_empty         Return `boosted` if monster is boosted, or empty
                         string if not.
======================== =======================================================
